{% extends 'header.html' %}
{% block head %}
<meta name="csrf-token" content="{{ csrf_token() }}">
<link href="{{ url_for('static', filename='css/bootstrap-datetimepicker.min.css') }}" rel="stylesheet">
<script src="{{ url_for('static', filename='js/common_ajax.js') }}"></script>
<script src="{{ url_for('static', filename='js/experiments_ajax.js') }}"></script>
<script src="{{ url_for('static', filename='js/moment.min.js')}}"></script>
<script src="{{ url_for('static', filename='js/bootstrap-datetimepicker.js') }}"></script>
{% endblock %}

{% block title %}
Experiment List
{% endblock %}

{% import "experiments/experiment_macros.html" as exp_macros %}

{% block content %}
<table class="table table-striped" id="exp_table">
  <thead>
    <tr>
      <th class="col-md-3">Name</th>
      <th class="col-md-2">Start time</th>
      <th class="col-md-2">End time</th>
    </tr>
  </thead>
  <tbody>
    {% for exp in experiments %}
    <tr>
      <td class="name">
        <a href="{{ url_for('experiments.read_experiment', exp_id=exp.id) }}">{{exp.name}}</a>
      </td>
      <td class="start">{{exp.start|datetime_format}}</td>
      <td class="stop">{{exp.stop|datetime_format}}</td>
    </tr>
    {% endfor %}
    {% if current_user.has_role("experimenter") %}
      <tr>
        {{ exp_macros.create_row(create_form, url_for('experiments.create_experiment'),
        "create-form") }}
      </tr>
    {% endif %}
  </tbody>
</table>
{% endblock %}
